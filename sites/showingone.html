{{ define "sites/showingone.html" }}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="#">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <style>
      @import url("/css/index.css");
    </style>
    <title>Document</title>
</head>
<body>
    <h1 class="text-center">Basic Frontend for CRUD API</h1>
    
    <ul class="nav justify-content-center bg-dark" >
        <li class="nav-item">
          <a class="nav-link" href="../index">Main Page</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../adding">Add new Student</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../deleting">Delete Student</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../updating">Update Student data</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="../showing">Show All Students</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../showing/one">Show One Students</a>
          </li>
      </ul>
    <div class="container col-md-12 float-end mt-3">
      <div class="row">
          <div class="container col-md-4 float-end">
            <a class="btn btn-secondary btn-lg btn-block" href="../adding">Add new Student</a>
            <a class="btn btn-secondary btn-lg btn-block" href="../deleting">Delete Student</a>
            <a class="btn btn-secondary btn-lg btn-block" href="../updating">Update Student data</a>
            <a class="btn btn-secondary btn-lg btn-block" href="../showing">Show All Students</a>
            <a class="btn btn-secondary btn-lg btn-block" href="../showing/one">Show One Students</a>
            </div>
      
          <div class="container col-md-8 float-end">
              <div class="col-md-8" id="content">
                <h2>Show one student</h2>
                  <form method="post" id="select_form">
                    <label>ID: <input type="number" name="id" id="id"></label><br>
                    <input type="submit" name="form_submit" id="form_submit" value="Show Student">
                  </form>
                  <br>
                 
                   <div class="col-md-4">
                    <div class="card" style="width: 29rem;">
                        <div class="card-body">
                          <h5 class="card-title" id="output1"></h5>
                          <p class="card-text" id="output2"></p>
                        </div>
                      </div>
                    </div>
                   
                  
                
              </div>
          </div>
        </div>
      </div>
        
<script>

  let deletingForm = document.querySelector("#select_form")
  deletingForm.onsubmit = function(evt) {
    evt.preventDefault()
    let id = parseInt(document.querySelector("#id").value)
    let xhr = new XMLHttpRequest()
    xhr.open("GET", "../../student/list/"+id)
    xhr.send(JSON.stringify({
      ID : id
    }))
    xhr.getResponseHeader("Content-type", "application/json")
    xhr.onload = function() {
        const obj = JSON.parse(this.responseText)
       let name = obj.Data.firstname
       let lname = obj.Data.lastname
       let age = obj.Data.age
       let id = obj.Data.ID
       document.querySelector("#output1").innerHTML=name+" "+lname
       document.querySelector("#output2").innerHTML="Id: "+id+" "+"Age: "+age
    }
  }
</script>
</body>
</html>
{{ end }}